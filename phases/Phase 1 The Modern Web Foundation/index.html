<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Vue Reactivity & Modern JS (CDN)</title>

  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    button {
      margin: 5px 0;
    }
    pre {
      background: #f4f4f4;
      padding: 10px;
    }
  </style>
</head>
<body>

<div id="app">

  <h1>Vue Reactivity & Modern JavaScript</h1>

  <!-- 1️⃣ const vs let -->
  <h2>1️⃣ const vs let</h2>
  <p>Count (let): {{ count }}</p>
  <button @click="increment">Increment</button>

  <pre>
const count = 0 ❌ (cannot reassign)
let count = 0 ✅ (can reassign)
  </pre>

  <hr>

  <!-- 2️⃣ Objects & Arrays by Reference -->
  <h2>2️⃣ Objects & Arrays (Passed by Reference)</h2>

  <p>User Name: {{ user.name }}</p>
  <button @click="changeName">Change Name</button>

  <p>Skills: {{ skills }}</p>
  <button @click="addSkill">Add Skill</button>

  <pre>
const user = { name: "Rithiha" }
const copy = user
copy.name = "Vue Dev"
// BOTH change
  </pre>

  <hr>

  <!-- 3️⃣ Async / Await -->
  <h2>3️⃣ Async / Await (API Call)</h2>

  <button @click="fetchUser">Fetch API Data</button>
  <p v-if="apiUser">API User: {{ apiUser.name }}</p>

  <pre>
async function fetchData() {
  const res = await fetch(url)
  const data = await res.json()
}
  </pre>

  <hr>

  <!-- 4️⃣ Arrow Functions -->
  <h2>4️⃣ Arrow Functions</h2>

  <p>Arrow Function Result: {{ arrowResult }}</p>
  <button @click="runArrow">Run Arrow Function</button>

  <pre>
const add = (a, b) => a + b
  </pre>

  <hr>

  <!-- 5️⃣ Modules (Explanation for CDN) -->
  <h2>5️⃣ Modules (import / export)</h2>

  <p>
    ❌ CDN files cannot use <code>import/export</code> directly inside Vue like CLI.
  </p>
  <p>
    ✅ In Vue CLI:
  </p>

  <pre>
export function greet() {
  return "Hello"
}

import { greet } from "./utils.js"
  </pre>

</div>

<script>
const { createApp } = Vue

createApp({
  data() {
    return {
      // 1️⃣ let
      count: 0,

      // 2️⃣ Object & Array (reference)
      user: { name: "Rithiha" },
      skills: ["JavaScript", "Vue"],

      // 3️⃣ async/await
      apiUser: null,

      // 4️⃣ Arrow function result
      arrowResult: 0
    }
  },

  methods: {
    // let example
    increment() {
      this.count++
    },

    // object reference example
    changeName() {
      const copy = this.user
      copy.name = "Vue Developer"
    },

    // array reference example
    addSkill() {
      this.skills.push("Composition API")
    },

    // async / await
    async fetchUser() {
      const response = await fetch("https://jsonplaceholder.typicode.com/users/1")
      this.apiUser = await response.json()
    },

    // arrow function
    runArrow() {
      const add = (a, b) => a + b
      this.arrowResult = add(10, 20)
    }
  }
}).mount("#app")
</script>

</body>
</html>
